/*! wikisearch 2017-02-22 */
function wikiRequest(){$.ajax({url:"https://en.wikipedia.org/w/api.php?format=json&action=query&generator=search&gsrnamespace=0&gsrlimit=10&prop=pageimages|extracts&pilimit=max&exintro&explaintext&exsentences=1&exlimit=max&gsrsearch="+searched,dataType:"jsonp",error:function(){console.log("error")},success:function(a){if(a.hasOwnProperty("query")){result=a.query.pages;for(var b in result){var c=result[b];$("#result"+c.index).empty().append(renderResult(c.title,c.extract,c.pageid,c.index))}}else $('div[id^="result"]').empty(),$("span").text("No results found").show().fadeOut(5e3)}})}function renderResult(a,b,c,d){return'<div class="result" id="'+d+'" onclick="openUrl('+c+')"><h3>'+a+"</h3><br>"+b+"</.div>"}function openUrl(a){window.open("https://en.wikipedia.org/wiki?curid="+a,"_blank")}$("#search").submit(function(a){""!==$("input:first").val()?(searched=$("input:first").val(),wikiRequest()):$("span").text("Please enter search term").show().fadeOut(5e3),a.preventDefault()}),$("#random").click(function(){window.open("https://wikipedia.org/wiki/Special:Random","_blank")});